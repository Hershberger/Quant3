{
    "collab_server" : "",
    "contents" : "library(causalA16)\nlibrary(Matching)\nlibrary(data.table)\n\nsimulate_data_for_matching <- function(n,\n  seed = sample.int(.Machine$integer.max, 1))\n{\n  set.seed(seed)\n  DATA <- simulate_potential_outcomes(n)\n  DATA[, prob_d_equals_1 := plogis(-2 + 4 * (y1 - y0))]\n  DATA[, d := 1 * (runif(n) < prob_d_equals_1)]\n  DATA[, y := d * y1 + (1 - d) * y0]\n  DATA[, x := rnorm(n)]\n  DATA[, `:=`(y1 = NULL, y0 = NULL, prob_d_equals_1 = NULL)]\n  DATA[, z := rbinom(n = n, size = 1, prob = (runif(1, min = .1, max = .9)))]\n  attr(DATA, \"seed\") <- seed\n  DATA\n}\n\nsimulate_falsely_matched_regression <- function(n) {\n  seed = sample.int(.Machine$integer.max, 1)\n  set.seed(seed)\n  DATA <- simulate_potential_outcomes(n)\n  DATA[, prob_d_equals_1 := plogis(-2 + 4 * (y1 - y0))]\n  DATA[, d := 1 * (runif(n) < prob_d_equals_1)]\n  DATA[, y := d * y1 + (1 - d) * y0]\n  DATA[, x := rnorm(n)]\n  DATA[, `:=`(y1 = NULL, y0 = NULL, prob_d_equals_1 = NULL)]\n  DATA[, z := rbinom(n = n, size = 1, prob = (runif(1, min = .1, max = .9)))]\n  attr(DATA, \"seed\") <- seed\n  DATA\n  set.seed(seed)\n  simulate_data_for_matching(n = (rbinom(1, 2970, prob = runif(1)) + 30),\n    seed = seed)\n  glm_match <- glm(z ~ x, family = binomial, data = DATA)\n  mismatch <- Match(Y = y, Tr = z, X = glm_match$fitted, estimand = \"ATE\")\n  mean_diff <- calc_naive_difference_in_means(DATA)\n  mismatch$est\n  mean_diff\n}\n\nabcd<-function(){\n  y<-rnorm(205, mean = 10, sd = 1)\n  x<-runif(205, min = 2, max = 7)\n  z<-rbinom(205, 1, .2)\n  abc<-data.frame(x, y, z)\n  glm111 <- glm(z ~ x, family = binomial, data = abc)\n  rr1 <- Match(Y = y, Tr = z, X = glm111$fitted, estimand = \"ATE\")\n  rr1$est\n}\nabcd()\n\nreplications <- replicate(1000, abcd())\nreplications\nhist(unlist(replications))\n",
    "created" : 1475515358181.000,
    "dirty" : false,
    "encoding" : "UTF-8",
    "folds" : "",
    "hash" : "37627942",
    "id" : "1B4DD56C",
    "lastKnownWriteTime" : 1475522168,
    "last_content_update" : 1475522168798,
    "path" : "~/GitHub/Quant3/causalA16/R/match_data.R",
    "project_path" : "R/match_data.R",
    "properties" : {
        "tempName" : "Untitled1"
    },
    "relative_order" : 6,
    "source_on_save" : false,
    "source_window" : "",
    "type" : "r_source"
}