sen_cand_black06 = c(NA, 0, 0, 0, NA, 1, 0, NA, NA, 0),
sen_cand_black08 = c(1, NA, NA, NA, 0, 1, NA, 0, 0, 0),
sen_cand_black10 = c(0, 0, 0, 1, 0, NA, 0, 0, 1, NA),
sen_cand_black12 = c(NA, 0, 0, 0, NA, 0, 0, NA, NA, 0),
sen_cand_latino06 = c(NA, 0, 0, 0, NA, 0, 0, NA, NA, 0),
sen_cand_latino08 = c(0, NA, NA, NA, 0, 0, NA, 0, 0, 1),
sen_cand_latino10 = c(0, 0, 0, 1, 0, NA, 0, 0, 0, NA),
sen_cand_latino12 = c(NA, 1, 0, 0, NA, 0, 0, NA, NA, 1),
sen_cand_asian06 = c(NA, 0, 0, 0, NA, 0, 0, NA, NA, 0),
sen_cand_asian08 = c(0, NA, NA, NA, 0, 0, NA, 0, 0, 0),
sen_cand_asian10 = c(0, 0, 0, 0, 0, NA, 0, 0, 0, NA),
sen_cand_asian12 = c(NA, 0, 0, 0, NA, 0, 0, NA, NA, 0)
)
senate_candidate_DT <- setDT(merge(fraga_district_stats, senate_candidate_DT,
by = "State", all = TRUE))
senate_election_DT <- data.table(State = senate_candidate_DT$State,
PreDist = senate_candidate_DT$PreDist, PostDist = senate_candidate_DT$PostDist,
Group = senate_canditate_DT$group, Turnout_U = senate_candidate_DT$Turnout06_U,
Turnout_M = senate_candidate_DT$Turnout06_M,
sen_cand_white = senate_candidate_DT$sen_cand_white06,
sen_cand_black = senate_candidate_DT$sen_cand_black06,
sen_cand_latino = senate_candidate_DT$sen_cand_latino06,
sen_cand_asian = senate_candidate_DT$sen_cand_asian06, year = 2006)
senate_election_DT <- data.table(State = senate_candidate_DT$State, year = 2006)
senate_election_DT <- data.table(State = senate_candidate_DT$State,
PreDist = senate_candidate_DT$PreDist, PostDist = senate_candidate_DT$PostDist,
Group = senate_candidate_DT$group, Turnout_U = senate_candidate_DT$Turnout06_U,
Turnout_M = senate_candidate_DT$Turnout06_M,
sen_cand_white = senate_candidate_DT$sen_cand_white06,
sen_cand_black = senate_candidate_DT$sen_cand_black06,
sen_cand_latino = senate_candidate_DT$sen_cand_latino06,
sen_cand_asian = senate_candidate_DT$sen_cand_asian06, year = 2006)
senate_election_DT <- data.table(State = senate_candidate_DT$State,
Group = senate_candidate_DT$group, Turnout_U = senate_candidate_DT$Turnout06_U,
Turnout_M = senate_candidate_DT$Turnout06_M,
sen_cand_white = senate_candidate_DT$sen_cand_white06,
sen_cand_black = senate_candidate_DT$sen_cand_black06,
sen_cand_latino = senate_candidate_DT$sen_cand_latino06,
sen_cand_asian = senate_candidate_DT$sen_cand_asian06, year = 2006)
senate_election_DT <- data.table(State = senate_candidate_DT$State,
PreDist = senate_candidate_DT$PreDist, PostDist = senate_candidate_DT$PostDist,
Group = senate_candidate_DT$group, Turnout_U = senate_candidate_DT$Turnout06_U,
Turnout_M = senate_candidate_DT$Turnout06_M,
sen_cand_white = senate_candidate_DT$sen_cand_white06,
sen_cand_black = senate_candidate_DT$sen_cand_black06,
sen_cand_latino = senate_candidate_DT$sen_cand_latino06,
sen_cand_asian = senate_candidate_DT$sen_cand_asian06, year = 2006)
library(causalA16)
options(stringsAsFactors = FALSE)
fraga_district_stats <-
fread("inst/extdata/Fraga2016_DistrictStats.csv")
fraga_district_treatment <-
fread("inst/extdata/Fraga2016_DistrictTreatmentResults.csv")
setDT(fraga_district_stats)
# is a midterm appointee who doesn't run an incumbent?
# NEED INDICATOR FOR STATE, YEARS OF ELECTIONS (PRESIDENT AND SENATE), INCUMBENT
# # SENATOR RACE, DUMMY FOR THE CANDIDATES RACE(S) (WHITE, BLACK,
# # HISPANIC/LATINO,ASIAN)
senate_candidate_DT <- data.table(State =
c("AL", "AZ", "CA", "FL", "IL", "MS", "NY", "NC", "SC", "TX"),
sen_election_06 = c(0, 1, 1, 1, 0, 1, 1, 0, 0, 1),
sen_election_08 = c(1, 0, 0, 0, 1, 1, 0, 1, 1, 1),
sen_election_10 = c(1, 1, 1, 1, 1, 0, 1, 1, 1, 0),
sen_election_12 = c(0, 1, 1, 1, 0, 1, 1, 0, 0, 1),
sen_cand_white06 = c(NA, 1, 1, 1, NA, 1, 1, NA, NA, 1),
sen_cand_white08 = c(1, NA, NA, NA, 1, 1, NA, 1, 1, 1),
sen_cand_white10 = c(1, 1, 1, 1, 1, NA, 1, 1, 1, NA),
sen_cand_white12 = c(NA, 1, 1, 1, NA, 1, 1, NA, NA, 1),
sen_cand_black06 = c(NA, 0, 0, 0, NA, 1, 0, NA, NA, 0),
sen_cand_black08 = c(1, NA, NA, NA, 0, 1, NA, 0, 0, 0),
sen_cand_black10 = c(0, 0, 0, 1, 0, NA, 0, 0, 1, NA),
sen_cand_black12 = c(NA, 0, 0, 0, NA, 0, 0, NA, NA, 0),
sen_cand_latino06 = c(NA, 0, 0, 0, NA, 0, 0, NA, NA, 0),
sen_cand_latino08 = c(0, NA, NA, NA, 0, 0, NA, 0, 0, 1),
sen_cand_latino10 = c(0, 0, 0, 1, 0, NA, 0, 0, 0, NA),
sen_cand_latino12 = c(NA, 1, 0, 0, NA, 0, 0, NA, NA, 1),
sen_cand_asian06 = c(NA, 0, 0, 0, NA, 0, 0, NA, NA, 0),
sen_cand_asian08 = c(0, NA, NA, NA, 0, 0, NA, 0, 0, 0),
sen_cand_asian10 = c(0, 0, 0, 0, 0, NA, 0, 0, 0, NA),
sen_cand_asian12 = c(NA, 0, 0, 0, NA, 0, 0, NA, NA, 0)
)
senate_candidate_DT <- setDT(merge(fraga_district_stats, senate_candidate_DT,
by = "State", all = TRUE))
senate_election_DT <- data.table(State = senate_candidate_DT$State,
PreDist = senate_candidate_DT$PreDist, PostDist = senate_candidate_DT$PostDist,
Group = senate_candidate_DT$group, Turnout_U = senate_candidate_DT$Turnout06_U,
Turnout_M = senate_candidate_DT$Turnout06_M,
sen_cand_white = senate_candidate_DT$sen_cand_white06,
sen_cand_black = senate_candidate_DT$sen_cand_black06,
sen_cand_latino = senate_candidate_DT$sen_cand_latino06,
sen_cand_asian = senate_candidate_DT$sen_cand_asian06, year = 2006)
senate_election_DT <- data.table(State = senate_candidate_DT$State,
PreDist = senate_candidate_DT$PreDist, PostDist = senate_candidate_DT$PostDist,
Group = senate_candidate_DT$Group, Turnout_U = senate_candidate_DT$Turnout06_U,
Turnout_M = senate_candidate_DT$Turnout06_M,
sen_cand_white = senate_candidate_DT$sen_cand_white06,
sen_cand_black = senate_candidate_DT$sen_cand_black06,
sen_cand_latino = senate_candidate_DT$sen_cand_latino06,
sen_cand_asian = senate_candidate_DT$sen_cand_asian06, year = 2006)
senate_election_DT <- rbind(
data.table(State = senate_candidate_DT$State,
PreDist = senate_candidate_DT$PreDist, PostDist = senate_candidate_DT$PostDist,
Group = senate_candidate_DT$Group, Turnout_U = senate_candidate_DT$Turnout06_U,
Turnout_M = senate_candidate_DT$Turnout06_M,
sen_cand_white = senate_candidate_DT$sen_cand_white06,
sen_cand_black = senate_candidate_DT$sen_cand_black06,
sen_cand_latino = senate_candidate_DT$sen_cand_latino06,
sen_cand_asian = senate_candidate_DT$sen_cand_asian06, year = 2006),
data.table(State = senate_candidate_DT$State,
PreDist = senate_candidate_DT$PreDist, PostDist = senate_candidate_DT$PostDist,
Group = senate_candidate_DT$Group, Turnout_U = senate_candidate_DT$Turnout08_U,
Turnout_M = senate_candidate_DT$Turnout08_M,
sen_cand_white = senate_candidate_DT$sen_cand_white08,
sen_cand_black = senate_candidate_DT$sen_cand_black08,
sen_cand_latino = senate_candidate_DT$sen_cand_latino08,
sen_cand_asian = senate_candidate_DT$sen_cand_asian08, year = 2008)
)
View(senate_election_DT)
senate_election_DT <- rbind(
data.table(State = senate_candidate_DT$State,
PreDist = senate_candidate_DT$PreDist, PostDist = senate_candidate_DT$PostDist,
Group = senate_candidate_DT$Group, Turnout_U = senate_candidate_DT$Turnout06_U,
Turnout_M = senate_candidate_DT$Turnout06_M,
sen_cand_white = senate_candidate_DT$sen_cand_white06,
sen_cand_black = senate_candidate_DT$sen_cand_black06,
sen_cand_latino = senate_candidate_DT$sen_cand_latino06,
sen_cand_asian = senate_candidate_DT$sen_cand_asian06, year = 2006),
data.table(State = senate_candidate_DT$State,
PreDist = senate_candidate_DT$PreDist, PostDist = senate_candidate_DT$PostDist,
Group = senate_candidate_DT$Group, Turnout_U = senate_candidate_DT$Turnout08_U,
Turnout_M = senate_candidate_DT$Turnout08_M,
sen_cand_white = senate_candidate_DT$sen_cand_white08,
sen_cand_black = senate_candidate_DT$sen_cand_black08,
sen_cand_latino = senate_candidate_DT$sen_cand_latino08,
sen_cand_asian = senate_candidate_DT$sen_cand_asian08, year = 2008),
data.table(State = senate_candidate_DT$State,
PreDist = senate_candidate_DT$PreDist, PostDist = senate_candidate_DT$PostDist,
Group = senate_candidate_DT$Group, Turnout_U = senate_candidate_DT$Turnout10_U,
Turnout_M = senate_candidate_DT$Turnout10_M,
sen_cand_white = senate_candidate_DT$sen_cand_white10,
sen_cand_black = senate_candidate_DT$sen_cand_black10,
sen_cand_latino = senate_candidate_DT$sen_cand_latino10,
sen_cand_asian = senate_candidate_DT$sen_cand_asian10, year = 2010),
data.table(State = senate_candidate_DT$State,
PreDist = senate_candidate_DT$PreDist, PostDist = senate_candidate_DT$PostDist,
Group = senate_candidate_DT$Group, Turnout_U = senate_candidate_DT$Turnout12_U,
Turnout_M = senate_candidate_DT$Turnout12_M,
sen_cand_white = senate_candidate_DT$sen_cand_white12,
sen_cand_black = senate_candidate_DT$sen_cand_black12,
sen_cand_latino = senate_candidate_DT$sen_cand_latino12,
sen_cand_asian = senate_candidate_DT$sen_cand_asia128, year = 2012)
)
library(causalA16)
options(stringsAsFactors = FALSE)
fraga_district_stats <-
fread("inst/extdata/Fraga2016_DistrictStats.csv")
fraga_district_treatment <-
fread("inst/extdata/Fraga2016_DistrictTreatmentResults.csv")
setDT(fraga_district_stats)
# is a midterm appointee who doesn't run an incumbent?
# NEED INDICATOR FOR STATE, YEARS OF ELECTIONS (PRESIDENT AND SENATE), INCUMBENT
# # SENATOR RACE, DUMMY FOR THE CANDIDATES RACE(S) (WHITE, BLACK,
# # HISPANIC/LATINO,ASIAN)
senate_candidate_DT <- data.table(State =
c("AL", "AZ", "CA", "FL", "IL", "MS", "NY", "NC", "SC", "TX"),
sen_election_06 = c(0, 1, 1, 1, 0, 1, 1, 0, 0, 1),
sen_election_08 = c(1, 0, 0, 0, 1, 1, 0, 1, 1, 1),
sen_election_10 = c(1, 1, 1, 1, 1, 0, 1, 1, 1, 0),
sen_election_12 = c(0, 1, 1, 1, 0, 1, 1, 0, 0, 1),
sen_cand_white06 = c(NA, 1, 1, 1, NA, 1, 1, NA, NA, 1),
sen_cand_white08 = c(1, NA, NA, NA, 1, 1, NA, 1, 1, 1),
sen_cand_white10 = c(1, 1, 1, 1, 1, NA, 1, 1, 1, NA),
sen_cand_white12 = c(NA, 1, 1, 1, NA, 1, 1, NA, NA, 1),
sen_cand_black06 = c(NA, 0, 0, 0, NA, 1, 0, NA, NA, 0),
sen_cand_black08 = c(1, NA, NA, NA, 0, 1, NA, 0, 0, 0),
sen_cand_black10 = c(0, 0, 0, 1, 0, NA, 0, 0, 1, NA),
sen_cand_black12 = c(NA, 0, 0, 0, NA, 0, 0, NA, NA, 0),
sen_cand_latino06 = c(NA, 0, 0, 0, NA, 0, 0, NA, NA, 0),
sen_cand_latino08 = c(0, NA, NA, NA, 0, 0, NA, 0, 0, 1),
sen_cand_latino10 = c(0, 0, 0, 1, 0, NA, 0, 0, 0, NA),
sen_cand_latino12 = c(NA, 1, 0, 0, NA, 0, 0, NA, NA, 1),
sen_cand_asian06 = c(NA, 0, 0, 0, NA, 0, 0, NA, NA, 0),
sen_cand_asian08 = c(0, NA, NA, NA, 0, 0, NA, 0, 0, 0),
sen_cand_asian10 = c(0, 0, 0, 0, 0, NA, 0, 0, 0, NA),
sen_cand_asian12 = c(NA, 0, 0, 0, NA, 0, 0, NA, NA, 0)
)
senate_candidate_DT <- setDT(merge(fraga_district_stats, senate_candidate_DT,
by = "State", all = TRUE))
senate_election_DT <- rbind(
data.table(State = senate_candidate_DT$State,
PreDist = senate_candidate_DT$PreDist, PostDist = senate_candidate_DT$PostDist,
Group = senate_candidate_DT$Group, Turnout_U = senate_candidate_DT$Turnout06_U,
Turnout_M = senate_candidate_DT$Turnout06_M,
sen_cand_white = senate_candidate_DT$sen_cand_white06,
sen_cand_black = senate_candidate_DT$sen_cand_black06,
sen_cand_latino = senate_candidate_DT$sen_cand_latino06,
sen_cand_asian = senate_candidate_DT$sen_cand_asian06, year = 2006),
data.table(State = senate_candidate_DT$State,
PreDist = senate_candidate_DT$PreDist, PostDist = senate_candidate_DT$PostDist,
Group = senate_candidate_DT$Group, Turnout_U = senate_candidate_DT$Turnout08_U,
Turnout_M = senate_candidate_DT$Turnout08_M,
sen_cand_white = senate_candidate_DT$sen_cand_white08,
sen_cand_black = senate_candidate_DT$sen_cand_black08,
sen_cand_latino = senate_candidate_DT$sen_cand_latino08,
sen_cand_asian = senate_candidate_DT$sen_cand_asian08, year = 2008),
data.table(State = senate_candidate_DT$State,
PreDist = senate_candidate_DT$PreDist, PostDist = senate_candidate_DT$PostDist,
Group = senate_candidate_DT$Group, Turnout_U = senate_candidate_DT$Turnout10_U,
Turnout_M = senate_candidate_DT$Turnout10_M,
sen_cand_white = senate_candidate_DT$sen_cand_white10,
sen_cand_black = senate_candidate_DT$sen_cand_black10,
sen_cand_latino = senate_candidate_DT$sen_cand_latino10,
sen_cand_asian = senate_candidate_DT$sen_cand_asian10, year = 2010),
data.table(State = senate_candidate_DT$State,
PreDist = senate_candidate_DT$PreDist, PostDist = senate_candidate_DT$PostDist,
Group = senate_candidate_DT$Group, Turnout_U = senate_candidate_DT$Turnout12_U,
Turnout_M = senate_candidate_DT$Turnout12_M,
sen_cand_white = senate_candidate_DT$sen_cand_white12,
sen_cand_black = senate_candidate_DT$sen_cand_black12,
sen_cand_latino = senate_candidate_DT$sen_cand_latino12,
sen_cand_asian = senate_candidate_DT$sen_cand_asia12, year = 2012)
)
library(causalA16)
options(stringsAsFactors = FALSE)
fraga_district_stats <-
fread("inst/extdata/Fraga2016_DistrictStats.csv")
fraga_district_treatment <-
fread("inst/extdata/Fraga2016_DistrictTreatmentResults.csv")
setDT(fraga_district_stats)
# is a midterm appointee who doesn't run an incumbent?
# NEED INDICATOR FOR STATE, YEARS OF ELECTIONS (PRESIDENT AND SENATE), INCUMBENT
# # SENATOR RACE, DUMMY FOR THE CANDIDATES RACE(S) (WHITE, BLACK,
# # HISPANIC/LATINO,ASIAN)
senate_candidate_DT <- data.table(State =
c("AL", "AZ", "CA", "FL", "IL", "MS", "NY", "NC", "SC", "TX"),
sen_election_06 = c(0, 1, 1, 1, 0, 1, 1, 0, 0, 1),
sen_election_08 = c(1, 0, 0, 0, 1, 1, 0, 1, 1, 1),
sen_election_10 = c(1, 1, 1, 1, 1, 0, 1, 1, 1, 0),
sen_election_12 = c(0, 1, 1, 1, 0, 1, 1, 0, 0, 1),
sen_cand_white06 = c(NA, 1, 1, 1, NA, 1, 1, NA, NA, 1),
sen_cand_white08 = c(1, NA, NA, NA, 1, 1, NA, 1, 1, 1),
sen_cand_white10 = c(1, 1, 1, 1, 1, NA, 1, 1, 1, NA),
sen_cand_white12 = c(NA, 1, 1, 1, NA, 1, 1, NA, NA, 1),
sen_cand_black06 = c(NA, 0, 0, 0, NA, 1, 0, NA, NA, 0),
sen_cand_black08 = c(1, NA, NA, NA, 0, 1, NA, 0, 0, 0),
sen_cand_black10 = c(0, 0, 0, 1, 0, NA, 0, 0, 1, NA),
sen_cand_black12 = c(NA, 0, 0, 0, NA, 0, 0, NA, NA, 0),
sen_cand_latino06 = c(NA, 0, 0, 0, NA, 0, 0, NA, NA, 0),
sen_cand_latino08 = c(0, NA, NA, NA, 0, 0, NA, 0, 0, 1),
sen_cand_latino10 = c(0, 0, 0, 1, 0, NA, 0, 0, 0, NA),
sen_cand_latino12 = c(NA, 1, 0, 0, NA, 0, 0, NA, NA, 1),
sen_cand_asian06 = c(NA, 0, 0, 0, NA, 0, 0, NA, NA, 0),
sen_cand_asian08 = c(0, NA, NA, NA, 0, 0, NA, 0, 0, 0),
sen_cand_asian10 = c(0, 0, 0, 0, 0, NA, 0, 0, 0, NA),
sen_cand_asian12 = c(NA, 0, 0, 0, NA, 0, 0, NA, NA, 0)
)
senate_candidate_DT <- setDT(merge(fraga_district_stats, senate_candidate_DT,
by = "State", all = TRUE))
senate_election_DT <- rbind(
data.table(State = senate_candidate_DT$State,
PreDist = senate_candidate_DT$PreDist, PostDist = senate_candidate_DT$PostDist,
Group = senate_candidate_DT$Group, Turnout_U = senate_candidate_DT$Turnout06_U,
Turnout_M = senate_candidate_DT$Turnout06_M,
sen_cand_white = senate_candidate_DT$sen_cand_white06,
sen_cand_black = senate_candidate_DT$sen_cand_black06,
sen_cand_latino = senate_candidate_DT$sen_cand_latino06,
sen_cand_asian = senate_candidate_DT$sen_cand_asian06, year = 2006),
data.table(State = senate_candidate_DT$State,
PreDist = senate_candidate_DT$PreDist, PostDist = senate_candidate_DT$PostDist,
Group = senate_candidate_DT$Group, Turnout_U = senate_candidate_DT$Turnout08_U,
Turnout_M = senate_candidate_DT$Turnout08_M,
sen_cand_white = senate_candidate_DT$sen_cand_white08,
sen_cand_black = senate_candidate_DT$sen_cand_black08,
sen_cand_latino = senate_candidate_DT$sen_cand_latino08,
sen_cand_asian = senate_candidate_DT$sen_cand_asian08, year = 2008),
data.table(State = senate_candidate_DT$State,
PreDist = senate_candidate_DT$PreDist, PostDist = senate_candidate_DT$PostDist,
Group = senate_candidate_DT$Group, Turnout_U = senate_candidate_DT$Turnout10_U,
Turnout_M = senate_candidate_DT$Turnout10_M,
sen_cand_white = senate_candidate_DT$sen_cand_white10,
sen_cand_black = senate_candidate_DT$sen_cand_black10,
sen_cand_latino = senate_candidate_DT$sen_cand_latino10,
sen_cand_asian = senate_candidate_DT$sen_cand_asian10, year = 2010),
data.table(State = senate_candidate_DT$State,
PreDist = senate_candidate_DT$PreDist, PostDist = senate_candidate_DT$PostDist,
Group = senate_candidate_DT$Group, Turnout_U = senate_candidate_DT$Turnout12_U,
Turnout_M = senate_candidate_DT$Turnout12_M,
sen_cand_white = senate_candidate_DT$sen_cand_white12,
sen_cand_black = senate_candidate_DT$sen_cand_black12,
sen_cand_latino = senate_candidate_DT$sen_cand_latino12,
sen_cand_asian = senate_candidate_DT$sen_cand_asian12, year = 2012)
)
senate_election_DT$sen_treatment <- 0
senate_election_DT$sen_treatment <- 0
senate_election_DT$sen_treatment[senate_election_DT$Group == "White"
& senate_election_DT$sen_cand_white == 1] <- 1
senate_election_DT$sen_treatment[senate_election_DT$Group == "Black"
& senate_election_DT$sen_cand_black == 1] <- 1
senate_election_DT$sen_treatment[senate_election_DT$Group == "Latino"
& senate_election_DT$sen_cand_latino == 1] <- 1
senate_election_DT$sen_treatment[senate_election_DT$Group == "Asian"
& senate_election_DT$sen_cand_asian == 1] <- 1
View(senate_election_DT)
mean(senate_election_DT$Turnout_U[senate_election_DT$sen_treatment == 1]) -
mean(senate_election_DT$Turnout_U[senate_election_DT$sen_treatment == 0])
mean(senate_election_DT$Turnout_M[senate_election_DT$sen_treatment == 1]) -
mean(senate_election_DT$Turnout_M[senate_election_DT$sen_treatment == 0])
mean(senate_election_DT$Turnout_U[senate_election_DT$sen_treatment == 1 &
senate_election_DT$Group == "Black"]) -
mean(senate_election_DT$Turnout_U[senate_election_DT$sen_treatment == 0 &
senate_election_DT$Group == "Black"])
mean(senate_election_DT$Turnout_U[senate_election_DT$sen_treatment == 1 &
senate_election_DT$Group == "Latino"]) -
mean(senate_election_DT$Turnout_U[senate_election_DT$sen_treatment == 0 &
senate_election_DT$Group == "Latino"])
mean(senate_election_DT$Turnout_U[senate_election_DT$sen_treatment == 1]) -
mean(senate_election_DT$Turnout_U[senate_election_DT$sen_treatment == 0])
mean(senate_election_DT$Turnout_M[senate_election_DT$sen_treatment == 1]) -
mean(senate_election_DT$Turnout_M[senate_election_DT$sen_treatment == 0])
mean(senate_election_DT$Turnout_U[senate_election_DT$sen_treatment == 1 &
senate_election_DT$Group == "Black"]) -
mean(senate_election_DT$Turnout_U[senate_election_DT$sen_treatment == 0 &
senate_election_DT$Group == "Black"])
mean(senate_election_DT$Turnout_U[senate_election_DT$sen_treatment == 1 &
senate_election_DT$Group == "Latino"]) -
mean(senate_election_DT$Turnout_U[senate_election_DT$sen_treatment == 0 &
senate_election_DT$Group == "Latino"])
######################################################################################################################################################################################################################################################################################################
mean(senate_election_DT$Turnout_U[senate_election_DT$sen_treatment == 1]) -
mean(senate_election_DT$Turnout_U[senate_election_DT$sen_treatment == 0])
mean(senate_election_DT$Turnout_M[senate_election_DT$sen_treatment == 1]) -
mean(senate_election_DT$Turnout_M[senate_election_DT$sen_treatment == 0])
mean(senate_election_DT$Turnout_U[senate_election_DT$sen_treatment == 1 &
senate_election_DT$Group == "Black"]) -
mean(senate_election_DT$Turnout_U[senate_election_DT$sen_treatment == 0 &
senate_election_DT$Group == "Black"])
mean(senate_election_DT$Turnout_U[senate_election_DT$sen_treatment == 1 &
senate_election_DT$Group == "Latino"]) -
mean(senate_election_DT$Turnout_U[senate_election_DT$sen_treatment == 0 &
senate_election_DT$Group == "Latino"])
mean(senate_election_DT$Turnout_M[senate_election_DT$sen_treatment == 1 &
senate_election_DT$Group == "Black"]) -
mean(senate_election_DT$Turnout_U[senate_election_DT$sen_treatment == 0 &
senate_election_DT$Group == "Black"])
mean(senate_election_DT$Turnout_M[senate_election_DT$sen_treatment == 1 &
senate_election_DT$Group == "Latino"]) -
mean(senate_election_DT$Turnout_U[senate_election_DT$sen_treatment == 0 &
senate_election_DT$Group == "Latino"])
naive_diff_means <-
mean(senate_election_DT$Turnout_U[senate_election_DT$sen_treatment == 1]) -
mean(senate_election_DT$Turnout_U[senate_election_DT$sen_treatment == 0])
naive_diff_means_match <-
mean(senate_election_DT$Turnout_M[senate_election_DT$sen_treatment == 1]) -
mean(senate_election_DT$Turnout_M[senate_election_DT$sen_treatment == 0])
naive_diff_means_black_match <-
mean(senate_election_DT$Turnout_U[senate_election_DT$sen_treatment == 1 &
senate_election_DT$Group == "Black"]) -
mean(senate_election_DT$Turnout_U[senate_election_DT$sen_treatment == 0 &
senate_election_DT$Group == "Black"])
naive_diff_means_latino_match <-
mean(senate_election_DT$Turnout_U[senate_election_DT$sen_treatment == 1 &
senate_election_DT$Group == "Latino"]) -
mean(senate_election_DT$Turnout_U[senate_election_DT$sen_treatment == 0 &
senate_election_DT$Group == "Latino"])
naive_diff_means_black_match <-
mean(senate_election_DT$Turnout_M[senate_election_DT$sen_treatment == 1 &
senate_election_DT$Group == "Black"]) -
mean(senate_election_DT$Turnout_M[senate_election_DT$sen_treatment == 0 &
senate_election_DT$Group == "Black"])
naive_diff_means_latino_match <-
mean(senate_election_DT$Turnout_M[senate_election_DT$sen_treatment == 1 &
senate_election_DT$Group == "Latino"]) -
mean(senate_election_DT$Turnout_M[senate_election_DT$sen_treatment == 0 &
senate_election_DT$Group == "Latino"])
mean_diff <- cbind(naive_diff_means, naive_diff_means_match,
naive_diff_means_black_match, naive_diff_means_latino_match)
library(xtable)
naive_diff_means <- c("Naive Difference All",
mean(senate_election_DT$Turnout_U[senate_election_DT$sen_treatment == 1]) -
mean(senate_election_DT$Turnout_U[senate_election_DT$sen_treatment == 0]))
naive_diff_means <-
mean(senate_election_DT$Turnout_U[senate_election_DT$sen_treatment == 1]) -
mean(senate_election_DT$Turnout_U[senate_election_DT$sen_treatment == 0])
naive_diff_means_match <-
mean(senate_election_DT$Turnout_M[senate_election_DT$sen_treatment == 1]) -
mean(senate_election_DT$Turnout_M[senate_election_DT$sen_treatment == 0])
naive_diff_means_black_match <-
mean(senate_election_DT$Turnout_U[senate_election_DT$sen_treatment == 1 &
senate_election_DT$Group == "Black"]) -
mean(senate_election_DT$Turnout_U[senate_election_DT$sen_treatment == 0 &
senate_election_DT$Group == "Black"])
naive_diff_means_latino_match <-
mean(senate_election_DT$Turnout_U[senate_election_DT$sen_treatment == 1 &
senate_election_DT$Group == "Latino"]) -
mean(senate_election_DT$Turnout_U[senate_election_DT$sen_treatment == 0 &
senate_election_DT$Group == "Latino"])
naive_diff_means_black_match <-
mean(senate_election_DT$Turnout_M[senate_election_DT$sen_treatment == 1 &
senate_election_DT$Group == "Black"]) -
mean(senate_election_DT$Turnout_M[senate_election_DT$sen_treatment == 0 &
senate_election_DT$Group == "Black"])
naive_diff_means_latino_match <-
mean(senate_election_DT$Turnout_M[senate_election_DT$sen_treatment == 1 &
senate_election_DT$Group == "Latino"]) -
mean(senate_election_DT$Turnout_M[senate_election_DT$sen_treatment == 0 &
senate_election_DT$Group == "Latino"])
?xtable
xtable(naive_diff_means, naive_diff_means_match, naive_diff_means_black_match,
naive_diff_means_latino_match)
mean(senate_election_DT$Turnout_U[senate_election_DT$sen_treatment == 1]) -
mean(senate_election_DT$Turnout_U[senate_election_DT$sen_treatment == 0])
mean(senate_election_DT$Turnout_M[senate_election_DT$sen_treatment == 1]) -
mean(senate_election_DT$Turnout_M[senate_election_DT$sen_treatment == 0])
mean(senate_election_DT$Turnout_U[senate_election_DT$sen_treatment == 1 &
senate_election_DT$Group == "Black"]) -
mean(senate_election_DT$Turnout_U[senate_election_DT$sen_treatment == 0 &
senate_election_DT$Group == "Black"])
mean(senate_election_DT$Turnout_U[senate_election_DT$sen_treatment == 1 &
senate_election_DT$Group == "Latino"]) -
mean(senate_election_DT$Turnout_U[senate_election_DT$sen_treatment == 0 &
senate_election_DT$Group == "Latino"])
mean(senate_election_DT$Turnout_M[senate_election_DT$sen_treatment == 1 &
senate_election_DT$Group == "Black"]) -
mean(senate_election_DT$Turnout_M[senate_election_DT$sen_treatment == 0 &
senate_election_DT$Group == "Black"])
mean(senate_election_DT$Turnout_M[senate_election_DT$sen_treatment == 1 &
senate_election_DT$Group == "Latino"]) -
mean(senate_election_DT$Turnout_M[senate_election_DT$sen_treatment == 0 &
senate_election_DT$Group == "Latino"])
mean(senate_election_DT$Turnout_U[senate_election_DT$sen_treatment == 1]) -
mean(senate_election_DT$Turnout_U[senate_election_DT$sen_treatment == 0])
mean(senate_election_DT$Turnout_M[senate_election_DT$sen_treatment == 1]) -
mean(senate_election_DT$Turnout_M[senate_election_DT$sen_treatment == 0])
mean(senate_election_DT$Turnout_U[senate_election_DT$sen_treatment == 1 &
senate_election_DT$year == 2006 | senate_election_DT$year == 2010]) -
mean(senate_election_DT$Turnout_U[senate_election_DT$sen_treatment == 0 &
senate_election_DT$year == 2006 | senate_election_DT$year == 2010])
mean(senate_election_DT$Turnout_M[senate_election_DT$sen_treatment == 1 &
senate_election_DT$year == 2006 | senate_election_DT$year == 2010]) -
mean(senate_election_DT$Turnout_M[senate_election_DT$sen_treatment == 0 &
senate_election_DT$year == 2006 | senate_election_DT$year == 2010])
mean(senate_election_DT$Turnout_U[senate_election_DT$sen_treatment == 1 &
senate_election_DT$year == 2008 | senate_election_DT$year == 2012]) -
mean(senate_election_DT$Turnout_U[senate_election_DT$sen_treatment == 0 &
senate_election_DT$year == 2008 | senate_election_DT$year == 2012])
mean(senate_election_DT$Turnout_M[senate_election_DT$sen_treatment == 1 &
senate_election_DT$year == 2008 | senate_election_DT$year == 2012]) -
mean(senate_election_DT$Turnout_M[senate_election_DT$sen_treatment == 0 &
senate_election_DT$year == 2008 | senate_election_DT$year == 2012])
mean(senate_election_DT$Turnout_U[senate_election_DT$sen_treatment == 1 &
senate_election_DT$Group == "Black"]) -
mean(senate_election_DT$Turnout_U[senate_election_DT$sen_treatment == 0 &
senate_election_DT$Group == "Black"])
mean(senate_election_DT$Turnout_M[senate_election_DT$sen_treatment == 1 &
senate_election_DT$Group == "Black"]) -
mean(senate_election_DT$Turnout_M[senate_election_DT$sen_treatment == 0 &
senate_election_DT$Group == "Black"])
mean(senate_election_DT$Turnout_U[senate_election_DT$sen_treatment == 1 &
senate_election_DT$Group == "Latino"]) -
mean(senate_election_DT$Turnout_U[senate_election_DT$sen_treatment == 0 &
senate_election_DT$Group == "Latino"])
mean(senate_election_DT$Turnout_M[senate_election_DT$sen_treatment == 1 &
senate_election_DT$Group == "Latino"]) -
mean(senate_election_DT$Turnout_M[senate_election_DT$sen_treatment == 0 &
senate_election_DT$Group == "Latino"])
summary(is.na(senate_election_DT$Turnout_U))
summary(is.na(senate_election_DT$Turnout_M))
table(senate_election_DT$year)
table(senate_election_DT$Group)
install.packages("wfe", dependencies = TRUE)
install.packages("plm", dependencies = TRUE)
install.packages("lfe", dependencies = TRUE)
?felm
?lfe::felm
?rbinom
x <- c(rbinom(1000, 1, .5))
?felm
?lfe::felm
x <- c(rbinom(1000, 1, .5))
x2 <- c(rbinom(length(x), 1, .5))
table(x)
x * rbinom(1000, 1, .1)
table(x)
table(x * rbinom(1000, 1, .9))
y <- c(rbinom(length(x), 1, .8)) * (x * rbinom(1000, 1, .9))
table(y)
fake_felm_DT[, y := y, x := x, x2 := x2]
library(data.table)
x <- c(rbinom(1000, 1, .5))
x2 <- c(rbinom(length(x), 1, .5))
y <- c(rbinom(length(x), 1, .8)) * (x * rbinom(1000, 1, .9))
fake_felm_DT[, y := y, x := x, x2 := x2]
fake_felm_DT <- data.table(y = y, x = x, x2 = x2)
felm(y ~ x | x2 | 0 | x2, data = fake_felm_DT)
library(causalA16)
library(lfe)
felm(y ~ x | x2 | 0 | x2, data = fake_felm_DT)
summary(felm(y ~ x | x2 | 0 | x2))
?expand.grid
expand.grid(1:4, 1:3)
expand.grid(i = 1:4, t = 1:3)
fake_felm_DT <- data.table(CJ(i = 1:4, t = 1:3))
View(fake_felm_DT)
fake_felm_DT <- CJ(i = 1:4, t = 1:3)
fake_felm_DT[, x = rbinom(12, 1, .5)]
fake_felm_DT$x <- rbinom(12, 1, .5)
View(fake_felm_DT)
fake_felm_DT$x2 <- rbinom(12, 1, .7)
fake_felm_DT$y <- x * rbinom(12, 1, .9)
fake_felm_DT$y <- fake_felm_data$x2 * rbinom(12, 1, .7)
fake_felm_DT$y <- fake_felm_DT$x2 * rbinom(12, 1, .6)
summary(felm(y ~ x + x2 | i | 0 | i, data = fake_felm_DT))
